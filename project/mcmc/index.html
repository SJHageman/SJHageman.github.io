<!DOCTYPE html>
<html lang="en" dir="ltr"><head>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.92.0" />
<title>Palmer Penguins | Hugo Apéro</title>


<meta property="twitter:site" content="@apreshill">
<meta property="twitter:creator" content="@apreshill">







  
    
  
<meta name="description" content="Grid is the very first CSS module created specifically to solve the layout problems we’ve all been hacking our way around for as long as we’ve been making websites.">


<meta property="og:site_name" content="Hugo Apéro">
<meta property="og:title" content="Palmer Penguins | Hugo Apéro">
<meta property="og:description" content="Grid is the very first CSS module created specifically to solve the layout problems we’ve all been hacking our way around for as long as we’ve been making websites." />
<meta property="og:type" content="page" />
<meta property="og:url" content="https://SJHageman.github.io/project/mcmc/" />
<meta property="og:locale" content="en">




    
        <meta property="og:image" content="https://SJHageman.github.io/project/mcmc/featured%20-%20hist_all_logNumTrans=6_runsN=1000.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://SJHageman.github.io/project/mcmc/featured%20-%20hist_all_logNumTrans=6_runsN=1000.png" >
    
    
  <meta itemprop="name" content="Palmer Penguins">
<meta itemprop="description" content="Monte-Carlo-Economy   The goal of this project is to simulate wealth distribution of a closed economy. It originally was written in c&#43;&#43; for a computational physics course, but has since been moved over to python. It is purely to satisfy my own curiosity. It follows from the work done by Patricia, et al. where they develop an analytical form of a non-Gibbs wealth distribution.
The idea is to use a Markov chain Monte Carlo method to generate a wealth distribution from an arbitrary inital state."><meta itemprop="datePublished" content="2019-07-02T00:00:00+00:00" />
<meta itemprop="dateModified" content="2019-07-02T00:00:00+00:00" />
<meta itemprop="wordCount" content="490"><meta itemprop="image" content="https://SJHageman.github.io/project/mcmc/featured%20-%20hist_all_logNumTrans=6_runsN=1000.png">
<meta itemprop="keywords" content="hugo-site," />
  
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="/img/far_field_prof_CATS.ico" type="image/x-icon">
  <link rel="icon" href="/img/far_field_prof_CATS.ico" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.5477c20f89738a32763391bbc2f43dbdfc2db0e7faba550c86cac92c99efa6b6.css" integrity="sha256-VHfCD4lzijJ2M5G7wvQ9vfwtsOf6ulUMhsrJLJnvprY=" media="screen">
  
  
  <script src="/panelset.min.078a92db9bd3228df502db3d9e0453c3cf3d910abe3f8deca0ad196c7071ad41.js" type="text/javascript"></script>
  
  
  <script src="/main.min.95af3b05b0ca3e7ed5c3b8bbb1d79e91cf0bacb0af29f4dfc9200088082dcc99.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container single-sidebar">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="https://SJHageman.github.io" title="Home">
      <img src="/img/far_field_prof_CATS.png" class="dib db-l h2 w-auto" alt="Hugo Apéro">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="About Me">About</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/blog/" title="Blog">Blog</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/project/" title="Project Portfolio">Projects</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/talk/" title="Talks">Talks</a>
      
      
    </div>
  </nav>
</header>

<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 pr3-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Palmer Penguins</h1>
        
        <p class="f6 measure lh-copy mv1">By Eric Anderson in <a href="https://SJHageman.github.io/categories/theme-features">Theme Features</a>  <a href="https://SJHageman.github.io/categories/r">R</a>  <a href="https://SJHageman.github.io/categories/package">package</a> </p>
        <p class="f7 db mv0 ttu">July 2, 2019</p>
        
      
      <div class="ph0 pt5">
        
    
    
    
      
    
    
    
    
    
      
      
  <a class="btn-links mr2 ba dib" href="https://allisonhorst.github.io/palmerpenguins/" target="_blank" rel="noopener"><i class="fas fa-door-open fa-lg fa-fw mr2"></i>website</a>

    
    
    
      
    
    
    
    
    
      
      
  <a class="btn-links mr2 ba dib" href="https://github.com/allisonhorst/palmerpenguins/" target="_blank" rel="noopener"><i class="fab fa-github fa-lg fa-fw mr2"></i>code</a>

    
    
    
      
    
    
    
    
    
      
      
  <a class="btn-links mr2 ba dib" href="https://education.rstudio.com/blog/2020/07/palmerpenguins-cran/" target="_blank" rel="noopener"><i class="far fa-newspaper fa-lg fa-fw mr2"></i>Blog post</a>


      </div>
      
      
      </header>
      <section class="post-body pt5 pb4">
        <hr>




<h1 id="monte-carlo-economy">Monte-Carlo-Economy
  <a href="#monte-carlo-economy"></a>
</h1>
<p>The goal of this project is to simulate wealth distribution of a closed economy.  It originally was written in c++ for a computational physics course, but has since been moved over to python.  It is purely to satisfy my own curiosity.  It follows from the work done by 
<a href="https://doi.org/10.1016/j.physa.2004.04.024" target="_blank" rel="noopener">Patricia, et al.</a> where they develop an analytical form of a non-Gibbs wealth distribution.</p>
<p>The idea is to use a Markov chain Monte Carlo method to generate a wealth distribution from an arbitrary inital state.  This is done by creating a set of financial agents with an initial amount of money m0 (m0 = 1 for all calculations). Then two agents are randomly chosen, and they exchange a random amount of wealth.  Money is conserved during this interaction, and interactions that would introduce a debt are not allowed.  An additional paramter can be introduce which forces each agent to save a percentage of their total wealth.  A set of agents go through with 10^6 - 10^7 transactions (this is one chain), and then a new set of agents are generated and this is repeated for 10^3-10^4 chains.  Total, this is 10^9-10^11 transactions over all chains, so computational efficiency is important.  To that end, in the script which generates the figures and data (linked 
<a href="https://github.com/SJHageman/Monte-Carlo-Economy/blob/main/wealth_distribution_MC.py" target="_blank" rel="noopener">here</a>), all the chains are computeted in parallel and this scales with the number of cores available. With a 3700x it is possible to compute 10^3 chains with 10^7 transactions over a day.</p>
<p>The resulting wealth distributions for saving percentages of (0, 0.25, 0.5, 0.75) are shown below
<img src="https://github.com/SJHageman/Monte-Carlo-Economy/blob/main/hist_ind_logNumTrans%3D6_runsN%3D1000.png" alt="wealth_hists"></p>
<p>A few features immediately jump out from the distributions.  First of all, as the saving percentage increases the high-wealth tail of distribution shrinks dramatically.  Additionally, the low-wealth portion of the distribution shifts to larger wealth values, and a peak forms around the initial wealth value given to each agent.</p>
<p>To verify that the simulation is approaching the correct distribution, the numerically simulated results can be compared to the analystical form given by 
<a href="https://doi.org/10.1016/j.physa.2004.04.024" target="_blank" rel="noopener">Patricia, et al.</a>.  This is shown is following figure by looking at the probability density function for each case
<img src="https://github.com/SJHageman/Monte-Carlo-Economy/blob/main/hist_all_logNumTrans%3D6_runsN%3D1000.png" alt="wealth_pdf"></p>
<p>The agreement between the two is reasonable, and would probably improve with a longer burn-in for each chain and more chains (10^7 transactions for 10^4 chains).</p>
<p>The natural inclincation is to compare these distributions with real-world wealth distributions to understand wealth inequality, however great care must be taken when doing so.  This is an extremely simple system that cannot capture the incredibly complicated macro and micro economic forces and economic policies that determine how wealth is distributed within a given society.  Nonetheless, the exponential behaviour of the low savings model reasonably captures what is seen in real wealth distributions.  They can generally be described by a power-law (Pareto) distributions for the high-wealth tail.</p>
<p>Next steps for this project are increases the number of chains and transactions, and looking at how the number of number of transactions correlates with wealth.</p>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="https://SJHageman.github.io/project/telematics/">&larr; Telematics Work Sample</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="https://SJHageman.github.io/project/bakeoff/">Bakeoff &rarr;</a>
  
</div>

      </footer>
    </article>
    
  </section>
</main>
<aside class="page-sidebar" role="complementary">
                         
 


                       
 











  <img src="/project/sidebar-listing.jpg" class="db ma0">


<div class="blog-info ph4 pt4 pb4 pb0-l">
  

  <h1 class="f3">A Sidebar for Your Projects</h1>
  <p class="f6 lh-copy measure">Projects can be anything!
Check out the _index.md file in the /project folder
to edit this content.</p>
  <p class="f7 measure lh-copy i mh0-l">Written by The R Markdown Team @RStudio</p>


  <small class="db f7"><a href="/project/" class="dib fw7 ttu bt bw1 b--black-10 pt3">View all projects</a></small>
</div>


<div class="ad-unit pa4">
  
  <p class="f7 measure-narrow lh-copy mv0 pt5"><span class="b ttu db">Made by Formspree</span><span><a href="https://formspree.io" target="_blank">Formspree is a form backend, API and email  service for HTML forms</a>. It is the simplest way to collect form submissions on your static website.</span></p>
  
</div>

  
  <details open class="f6 fw7 input-reset">
  <dl class="f6 lh-copy">
    <dt class="fw7">Posted on:</dt>
    <dd class="fw5 ml0">July 2, 2019</dd>
  </dl>
  <dl class="f6 lh-copy">
    <dt class="fw7">Length:</dt>
    <dd class="fw5 ml0">3 minute read, 490 words</dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Categories:</dt>
    <dd class="fw5 ml0"> <a href="https://SJHageman.github.io/categories/theme-features">Theme Features</a>  <a href="https://SJHageman.github.io/categories/r">R</a>  <a href="https://SJHageman.github.io/categories/package">package</a> </dd>
  </dl>
  
  
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Tags:</dt>
    <dd class="fw5 ml0"> <a href="https://SJHageman.github.io/tags/hugo-site">hugo-site</a> </dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">See Also:</dt>
    
    <dd class="fw5 ml0"><a href="/blog/spoonful-series/">A Spoonful of Hugo</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/spoonful-series/03-spoonful/">A third post</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/spoonful-series/02-spoonful/">A second post</a></dd>
    
  </dl>
</details>

</aside>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2022 RStudio, Anywhere
      <span class="middot-divider"></span>
      Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/sjhageman" title="github" target="_blank" rel="noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://scholar.google.com/citations?user=PjX4qfIAAAAJ&amp;hl=en" title="google-scholar" target="_blank" rel="noopener">
      <i class="ai ai-google-scholar fa-lg fa-fw"></i>
    </a>
  
    
    
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="http://orcid.org/0000-0003-0741-0013" title="orcid" target="_blank" rel="noopener">
      <i class="ai ai-orcid fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/sjhageman/" title="instagram" target="_blank" rel="noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://twitter.com/SJHageman" title="twitter" target="_blank" rel="noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/license/" title="License">License</a>
      
      <a class="dib pv1 ph2 link" href="/contact/" title="Contact form">Contact</a>
      
      <a class="dib pv1 ph2 link" href="/contributors/" title="Contributors">Contributors</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>
